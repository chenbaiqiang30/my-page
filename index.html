<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>ğŸ“š æˆ‘çš„ HTML çŸ¥è¯†åº“ Â· Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --glass-bg: rgba(15, 23, 42, 0.65);
      --glass-border: rgba(148, 163, 184, 0.4);
      --accent-blue: #38bdf8;
      --accent-purple: #a855f7;
      --accent-pink: #ec4899;
      --accent-gold: #facc15;
      --text-main: #e5e7eb;
      --text-dim: #9ca3af;
      --bg-gradient-1: #020617;
      --bg-gradient-2: #0f172a;
      --bg-gradient-3: #1e293b;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      min-height: 100vh;
      font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text",
        system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      color: var(--text-main);
      background: radial-gradient(circle at 0% 0%, #0f172a, #020617 45%, #020617 60%, #0b1120 100%);
      background-attachment: fixed;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      padding: 32px 16px 48px;
    }

    .page {
      width: 100%;
      max-width: 1200px;
      position: relative;
    }

    /* èƒŒæ™¯æ¼‚æµ®å…‰ç‚¹ */
    .glow {
      position: fixed;
      border-radius: 999px;
      opacity: 0.6;
      filter: blur(50px);
      z-index: -1;
      pointer-events: none;
    }
    .glow.glow-1 {
      width: 260px;
      height: 260px;
      background: radial-gradient(circle, rgba(56, 189, 248, 0.35), transparent);
      top: -40px;
      left: -40px;
      animation: float1 16s ease-in-out infinite;
    }
    .glow.glow-2 {
      width: 320px;
      height: 320px;
      background: radial-gradient(circle, rgba(168, 85, 247, 0.35), transparent);
      bottom: -40px;
      right: 0;
      animation: float2 20s ease-in-out infinite;
    }
    .glow.glow-3 {
      width: 220px;
      height: 220px;
      background: radial-gradient(circle, rgba(236, 72, 153, 0.25), transparent);
      top: 40%;
      right: 40%;
      animation: float3 22s ease-in-out infinite;
    }

    @keyframes float1 {
      0%, 100% { transform: translate3d(0, 0, 0); }
      50% { transform: translate3d(40px, 30px, 0); }
    }
    @keyframes float2 {
      0%, 100% { transform: translate3d(0, 0, 0); }
      50% { transform: translate3d(-30px, -40px, 0); }
    }
    @keyframes float3 {
      0%, 100% { transform: translate3d(0, 0, 0); }
      50% { transform: translate3d(20px, -20px, 0); }
    }

    .glass {
      background: var(--glass-bg);
      border-radius: 24px;
      border: 1px solid var(--glass-border);
      box-shadow:
        0 18px 45px rgba(15, 23, 42, 0.9),
        0 0 0 1px rgba(15, 23, 42, 0.6);
      backdrop-filter: blur(22px) saturate(150%);
      -webkit-backdrop-filter: blur(22px) saturate(150%);
    }

    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 18px 24px;
      margin-bottom: 18px;
      position: sticky;
      top: 0;
      z-index: 10;
      background: linear-gradient(
        to bottom,
        rgba(15, 23, 42, 0.9),
        rgba(15, 23, 42, 0.4),
        transparent
      );
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
    }

    .header-left {
      display: flex;
      align-items: center;
      gap: 14px;
    }

    .logo-dot {
      width: 32px;
      height: 32px;
      border-radius: 999px;
      background: conic-gradient(
        from 120deg,
        #38bdf8,
        #a855f7,
        #ec4899,
        #facc15,
        #38bdf8
      );
      position: relative;
      box-shadow: 0 0 25px rgba(56, 189, 248, 0.7);
    }
    .logo-dot::after {
      content: "";
      position: absolute;
      inset: 3px;
      border-radius: inherit;
      background: radial-gradient(circle at 30% 20%, #e5e7eb, #020617);
    }

    .header-title {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .header-title h1 {
      font-size: 20px;
      font-weight: 600;
      letter-spacing: 0.02em;
      background: linear-gradient(120deg, #e5e7eb, #f9a8d4, #a5b4fc);
      -webkit-background-clip: text;
      color: transparent;
    }

    .header-title span {
      font-size: 12px;
      color: var(--text-dim);
    }

    .header-right {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 12px;
      color: var(--text-dim);
    }

    .badge-pill {
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 11px;
      border: 1px solid rgba(148, 163, 184, 0.6);
      background: radial-gradient(circle at 0% 0%, rgba(248, 250, 252, 0.12), transparent);
    }

    .badge-dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: #22c55e;
      box-shadow: 0 0 14px rgba(34, 197, 94, 0.8);
    }

    .main-grid {
      display: grid;
      grid-template-columns: minmax(0, 1.2fr) minmax(0, 1fr);
      gap: 18px;
      align-items: flex-start;
    }

    @media (max-width: 900px) {
      .main-grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .panel {
      padding: 18px 20px;
    }

    .panel + .panel-divider {
      margin-top: 12px;
    }

    .panel-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 12px;
    }

    .panel-title {
      font-size: 14px;
      font-weight: 500;
      letter-spacing: 0.03em;
      text-transform: uppercase;
      color: var(--text-dim);
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .panel-title span.icon {
      font-size: 16px;
    }

    .chip-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 12px;
    }

    .chip {
      font-size: 11px;
      padding: 6px 11px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.6);
      background: radial-gradient(circle at 0% 0%, rgba(248, 250, 252, 0.12), transparent);
      color: var(--text-main);
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      transition: all 0.18s ease-out;
    }

    .chip span.dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: linear-gradient(135deg, #38bdf8, #a855f7);
    }

    .chip.chip-gold span.dot {
      background: linear-gradient(135deg, #facc15, #fb923c);
    }
    .chip.chip-pink span.dot {
      background: linear-gradient(135deg, #fb7185, #ec4899);
    }
    .chip.chip-green span.dot {
      background: linear-gradient(135deg, #4ade80, #22c55e);
    }

    .chip.active {
      border-color: rgba(248, 250, 252, 0.9);
      background: linear-gradient(
        135deg,
        rgba(56, 189, 248, 0.22),
        rgba(168, 85, 247, 0.28),
        rgba(236, 72, 153, 0.22)
      );
      box-shadow: 0 0 18px rgba(56, 189, 248, 0.45);
    }

    .filters-row {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      align-items: center;
      margin-bottom: 8px;
      font-size: 12px;
      color: var(--text-dim);
    }

    .filters-row label {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    select,
    input[type="date"] {
      background: rgba(15, 23, 42, 0.9);
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      color: var(--text-main);
      padding: 5px 10px;
      font-size: 12px;
      outline: none;
      min-width: 160px;
    }

    select:focus,
    input[type="date"]:focus {
      border-color: rgba(56, 189, 248, 0.9);
      box-shadow: 0 0 0 1px rgba(56, 189, 248, 0.8);
    }

    button {
      cursor: pointer;
    }

    .btn-ghost {
      padding: 5px 12px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.6);
      background: radial-gradient(circle at 0% 0%, rgba(248, 250, 252, 0.08), transparent);
      color: var(--text-main);
      font-size: 12px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      transition: all 0.15s ease-out;
    }

    .btn-ghost:hover {
      border-color: rgba(248, 250, 252, 0.9);
      background: radial-gradient(circle at 0% 0%, rgba(248, 250, 252, 0.16), transparent);
    }

    .btn-primary {
      padding: 7px 16px;
      border-radius: 999px;
      border: none;
      background: linear-gradient(135deg, #38bdf8, #a855f7);
      color: white;
      font-size: 12px;
      font-weight: 500;
      box-shadow:
        0 10px 30px rgba(56, 189, 248, 0.5),
        0 0 0 1px rgba(15, 23, 42, 0.9);
      transition: transform 0.12s ease-out, box-shadow 0.12s ease-out;
    }

    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow:
        0 14px 40px rgba(56, 189, 248, 0.7),
        0 0 0 1px rgba(15, 23, 42, 0.9);
    }

    .btn-primary:active {
      transform: translateY(0);
      box-shadow:
        0 8px 20px rgba(56, 189, 248, 0.4),
        0 0 0 1px rgba(15, 23, 42, 0.9);
    }

    .stats-row {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 6px;
      font-size: 11px;
      color: var(--text-dim);
    }

    .stat-pill {
      padding: 4px 9px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.6);
      background: radial-gradient(circle at 0% 0%, rgba(248, 250, 252, 0.06), transparent);
    }

    .table-wrapper {
      margin-top: 10px;
      border-radius: 18px;
      overflow: hidden;
      border: 1px solid rgba(30, 64, 175, 0.7);
      background: radial-gradient(circle at 0% 0%, rgba(37, 99, 235, 0.16), rgba(15, 23, 42, 0.9));
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 12px;
    }

    thead {
      background: linear-gradient(
        90deg,
        rgba(56, 189, 248, 0.22),
        rgba(168, 85, 247, 0.22),
        rgba(236, 72, 153, 0.22)
      );
    }

    th, td {
      padding: 8px 10px;
      border-bottom: 1px solid rgba(30, 64, 175, 0.6);
    }

    th {
      text-align: left;
      font-weight: 500;
      letter-spacing: 0.05em;
      text-transform: uppercase;
      font-size: 11px;
      color: #e5e7eb;
    }

    tr:hover td {
      background: radial-gradient(circle at 0% 0%, rgba(56, 189, 248, 0.1), transparent);
    }

    td a {
      color: #93c5fd;
      text-decoration: none;
    }

    td a:hover {
      text-decoration: underline;
      color: #bfdbfe;
    }

    .tag {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 3px 8px;
      border-radius: 999px;
      font-size: 11px;
      background: radial-gradient(circle at 0% 0%, rgba(248, 250, 252, 0.16), transparent);
      border: 1px solid rgba(148, 163, 184, 0.7);
      color: #e5e7eb;
    }

    .tag-dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: linear-gradient(135deg, #38bdf8, #a855f7);
    }

    .tag-personal .tag-dot {
      background: linear-gradient(135deg, #f97316, #facc15);
    }
    .tag-ai .tag-dot {
      background: linear-gradient(135deg, #22c55e, #4ade80);
    }
    .tag-media .tag-dot {
      background: linear-gradient(135deg, #fb7185, #ec4899);
    }

    textarea {
      width: 100%;
      max-width: 1100px;
      margin-top: 8px;
      border-radius: 16px;
      border: 1px solid rgba(30, 64, 175, 0.8);
      background: rgba(15, 23, 42, 0.9);
      color: var(--text-main);
      padding: 10px 12px;
      font-size: 12px;
      resize: vertical;
      min-height: 110px;
      outline: none;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    }

    textarea:focus {
      border-color: rgba(56, 189, 248, 0.9);
      box-shadow:
        0 0 0 1px rgba(56, 189, 248, 0.7),
        0 10px 26px rgba(15, 23, 42, 0.9);
    }

    .copy-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      margin-top: 8px;
      flex-wrap: wrap;
      font-size: 12px;
      color: var(--text-dim);
    }

    .copy-row span.highlight {
      color: #bfdbfe;
    }
  </style>
</head>
<body>
  <!-- æ¼‚æµ®å…‰ç‚¹èƒŒæ™¯ -->
  <div class="glow glow-1"></div>
  <div class="glow glow-2"></div>
  <div class="glow glow-3"></div>

  <div class="page">
    <header class="header glass">
      <div class="header-left">
        <div class="logo-dot"></div>
        <div class="header-title">
          <h1>HTML çŸ¥è¯†åº“ Â· Apple Glass Dashboard</h1>
          <span>è‡ªåŠ¨æ±‡æ€» Â· æŒ‰æ—¶é—´ä¸åˆ†ç±»ç®¡ç† Â· ä¸€é”®å¤åˆ¶åˆ°å¤šç»´è¡¨æ ¼</span>
        </div>
      </div>
      <div class="header-right">
        <div class="badge-pill" id="fileCountBadge">æ–‡ä»¶æ•°ï¼š--</div>
        <div class="badge-pill" id="latestDateBadge">æœ€è¿‘æ›´æ–°ï¼š--</div>
        <span class="badge-dot"></span>
      </div>
    </header>

    <div class="main-grid">
      <!-- å·¦ä¾§ï¼šç­›é€‰ + è¡¨æ ¼ -->
      <section class="glass panel">
        <div class="panel-header">
          <div class="panel-title">
            <span class="icon">ğŸ›</span>
            <span>ç­›é€‰æ¡ä»¶ Filters</span>
          </div>
        </div>

        <div class="chip-row" id="quickCategoryRow">
          <button class="chip active" data-cat="all">
            <span class="dot"></span>
            å…¨éƒ¨åˆ†ç±»
          </button>
          <button class="chip chip-gold" data-cat="äººç‰©Â·é©¬æ±Ÿåš">
            <span class="dot"></span>
            äººç‰© Â· é©¬æ±Ÿåš
          </button>
          <button class="chip chip-gold" data-cat="äººç‰©Â·ä½•åˆš">
            <span class="dot"></span>
            äººç‰© Â· ä½•åˆš
          </button>
          <button class="chip chip-gold" data-cat="äººç‰©Â·æ®µæ°¸å¹³">
            <span class="dot"></span>
            äººç‰© Â· æ®µæ°¸å¹³
          </button>
          <button class="chip chip-green" data-cat="AI/æŠ€æœ¯">
            <span class="dot"></span>
            AI / æŠ€æœ¯
          </button>
          <button class="chip chip-pink" data-cat="å†…å®¹/è‡ªåª’ä½“">
            <span class="dot"></span>
            å†…å®¹ / è‡ªåª’ä½“
          </button>
          <button class="chip" data-cat="æŠ•èµ„/å•†ä¸š">
            <span class="dot"></span>
            æŠ•èµ„ / å•†ä¸š
          </button>
          <button class="chip" data-cat="æ•™è‚²/å­¦ä¹ ">
            <span class="dot"></span>
            æ•™è‚² / å­¦ä¹ 
          </button>
        </div>

        <div class="filters-row">
          <label>
            åˆ†ç±»ä¸‹æ‹‰ï¼š
            <select id="categoryFilter">
              <option value="all">å…¨éƒ¨</option>
            </select>
          </label>

          <label>
            æ—¥æœŸï¼š
            <input type="date" id="dateFilter" />
          </label>

          <button class="btn-ghost" id="clearFilterBtn">
            âœ¨ æ¸…ç©ºç­›é€‰
          </button>
        </div>

        <div class="stats-row">
          <div class="stat-pill" id="statTotal">å½“å‰ç­›é€‰ï¼š-- æ¡</div>
          <div class="stat-pill" id="statRange">æ—¶é—´èŒƒå›´ï¼š--</div>
        </div>

        <div class="panel-divider"></div>

        <div class="panel-header" style="margin-top:14px;">
          <div class="panel-title">
            <span class="icon">ğŸ“‹</span>
            <span>æ–‡ä»¶æ˜ç»† Â· æŒ‰æ—¶é—´å€’åº</span>
          </div>
        </div>

        <div class="table-wrapper">
          <table>
            <thead>
              <tr>
                <th>æ—¥æœŸ</th>
                <th>åˆ†ç±»</th>
                <th>æ–‡ä»¶å</th>
                <th>å®Œæ•´ç½‘å€</th>
              </tr>
            </thead>
            <tbody id="table-body"></tbody>
          </table>
        </div>
      </section>

      <!-- å³ä¾§ï¼šå¤åˆ¶åŒº + è¯´æ˜ -->
      <section class="glass panel">
        <div class="panel-header">
          <div class="panel-title">
            <span class="icon">ğŸ“</span>
            <span>ä¸€é”®å¤åˆ¶ Â· é€‚é…å¤šç»´è¡¨æ ¼</span>
          </div>
        </div>

        <p style="font-size:13px;color:var(--text-dim);line-height:1.6;">
          Â· ä¸Šæ–¹é€‰æ‹© <span class="highlight">åˆ†ç±» + æ—¥æœŸ</span> åï¼Œè¿™é‡Œä¼šåªå±•ç¤ºå½“å‰ç­›é€‰ç»“æœçš„é“¾æ¥ã€‚<br />
          Â· ä¾‹å¦‚ï¼Œä½ æƒ³å¤åˆ¶ <span class="highlight">2025-11-13</span> å½“å¤©ä¸Šä¼ çš„å…¨éƒ¨æ–‡ç« ï¼šåªéœ€é€‰å¥½æ—¥æœŸ â†’ ç‚¹ä¸‹é¢æŒ‰é’®å¤åˆ¶å³å¯ã€‚
        </p>

        <textarea id="urlBox" placeholder="å½“å‰ç­›é€‰ç»“æœçš„ç½‘å€ä¼šå‡ºç°åœ¨è¿™é‡Œï¼Œæ¯è¡Œä¸€ä¸ªï¼Œå¯ç›´æ¥ç²˜è´´åˆ°å¤šç»´è¡¨æ ¼ä¸­ã€‚"></textarea>

        <div class="copy-row">
          <span>å½“å‰å°†å¤åˆ¶ï¼š<span class="highlight" id="copyCount">0 æ¡é“¾æ¥</span></span>
          <button class="btn-primary" onclick="copyUrls()">ğŸš€ å¤åˆ¶å½“å‰ç­›é€‰ç»“æœçš„ç½‘å€</button>
        </div>

        <div style="margin-top:18px;font-size:12px;color:var(--text-dim);line-height:1.6;">
          <div class="panel-title" style="margin-bottom:6px;font-size:12px;">
            <span class="icon">ğŸ’¡</span>
            <span>ä½¿ç”¨å»ºè®®</span>
          </div>
          <ul style="padding-left:18px;list-style:disc;">
            <li>åšé£ä¹¦å¤šç»´è¡¨æ ¼æ—¶ï¼Œå¯ä»¥å…ˆæŠŠé“¾æ¥è¿™ä¸€åˆ—å…¨éƒ¨ç²˜è´´è¿›å»ï¼Œå†æŒ‰éœ€è¦è¡¥å……ã€Œäººç‰©ã€ã€Œä¸»é¢˜ã€ã€Œå¹³å°ã€ç­‰å­—æ®µã€‚</li>
            <li>å¦‚æœä½ å“ªå¤©é›†ä¸­ä¸Šä¼ äº†å¤šä¸ª HTMLï¼Œç›´æ¥æŒ‰æ—¥æœŸç­›é€‰ï¼Œå½“å¤©çš„å†…å®¹ä¸€é”®å¯¼å‡ºï¼Œéå¸¸é€‚åˆåšã€Œä¸€å¤©ä¸€é¡µã€å†…å®¹ç®¡ç†ã€‚</li>
            <li>åç»­å¦‚æœä½ æœ‰æ–°çš„ä¸“é¢˜äººç‰©ï¼ˆæ¯”å¦‚ã€Œç†Šå¤ªè¡Œã€ã€Œå“å…‹ã€ï¼‰ï¼Œåªè¦åœ¨æ–‡ä»¶åé‡Œå¸¦ä¸Šåå­—ï¼Œæˆ‘å¯ä»¥å†å¸®ä½ åœ¨åˆ†ç±»è§„åˆ™é‡Œå•ç‹¬æ‹å‡ºæ¥ã€‚</li>
          </ul>
        </div>
      </section>
    </div>
  </div>

  <script>
    const OWNER = "chenbaiqiang30";
    const REPO  = "my-page";
    const API_CONTENTS = `https://api.github.com/repos/${OWNER}/${REPO}/contents/`;
    const API_COMMITS  = `https://api.github.com/repos/${OWNER}/${REPO}/commits?per_page=1&path=`;

    let allItems = [];
    let currentCategory = "all";
    let currentDate = "";

    function guessCategory(name) {
      const n = decodeURIComponent(name);
      if (/é©¬æ±Ÿåš/.test(n)) return "äººç‰©Â·é©¬æ±Ÿåš";
      if (/ä½•åˆš/.test(n))   return "äººç‰©Â·ä½•åˆš";
      if (/æ®µæ°¸å¹³/.test(n)) return "äººç‰©Â·æ®µæ°¸å¹³";

      if (/æŠ•èµ„|é£å‘|finance|business|trend|ç»æµ|é£æ ‡/.test(n)) return "æŠ•èµ„/å•†ä¸š";
      if (/AI|æ™ºèƒ½|agent|prompt|ä»£ç |ç¼–ç¨‹|innovation|æ¨¡å¼3\.0/i.test(n)) return "AI/æŠ€æœ¯";
      if (/æ•™è‚²|å­¦ä¹ |school|è¯¾ç¨‹|é‡ç½®/.test(n)) return "æ•™è‚²/å­¦ä¹ ";
      if (/è‡ªåª’|å†…å®¹|åˆ›ä½œ|è§†é¢‘|æ¼«å‰§|éŸ³ä¹|çŸ­è§†é¢‘|ç›´æ’­/.test(n)) return "å†…å®¹/è‡ªåª’ä½“";
      return "å…¶ä»–";
    }

    function formatDate(iso) {
      const d = new Date(iso);
      const y = d.getFullYear();
      const m = String(d.getMonth() + 1).padStart(2, "0");
      const day = String(d.getDate()).padStart(2, "0");
      return `${y}-${m}-${day}`;
    }

    async function loadFiles() {
      const res = await fetch(API_CONTENTS);
      const files = await res.json();

      const htmlFiles = files.filter(f =>
        f.name.endsWith(".html") && f.name !== "index.html"
      );

      const withDates = await Promise.all(
        htmlFiles.map(async f => {
          const r = await fetch(API_COMMITS + encodeURIComponent(f.path));
          const commits = await r.json();
          const dateIso = commits[0]?.commit?.author?.date || null;
          const date = dateIso ? formatDate(dateIso) : "";
          const category = guessCategory(f.name);
          const fullUrl = window.location.origin + window.location.pathname + f.name;
          return {
            name: f.name,
            path: f.path,
            date,
            category,
            fullUrl
          };
        })
      );

      withDates.sort((a, b) => {
        if (!a.date) return 1;
        if (!b.date) return -1;
        return new Date(b.date) - new Date(a.date);
      });

      allItems = withDates;

      initCategoryOptions();
      initQuickChips();
      updateGlobalBadges();
      renderTableAndUrls();
    }

    function initCategoryOptions() {
      const select = document.getElementById("categoryFilter");
      const cats = new Set(allItems.map(i => i.category));
      [...cats].sort().forEach(cat => {
        const opt = document.createElement("option");
        opt.value = cat;
        opt.textContent = cat;
        select.appendChild(opt);
      });

      select.addEventListener("change", () => {
        currentCategory = select.value;
        syncChipsWithCategory();
        renderTableAndUrls();
      });

      const dateInput = document.getElementById("dateFilter");
      dateInput.addEventListener("change", () => {
        currentDate = dateInput.value;
        renderTableAndUrls();
      });

      document.getElementById("clearFilterBtn").addEventListener("click", () => {
        currentCategory = "all";
        currentDate = "";
        select.value = "all";
        dateInput.value = "";
        syncChipsWithCategory();
        renderTableAndUrls();
      });
    }

    function initQuickChips() {
      const row = document.getElementById("quickCategoryRow");
      row.addEventListener("click", (e) => {
        const btn = e.target.closest(".chip");
        if (!btn) return;
        const cat = btn.getAttribute("data-cat");
        currentCategory = cat;
        document.getElementById("categoryFilter").value = cat;
        [...row.querySelectorAll(".chip")].forEach(c => c.classList.remove("active"));
        btn.classList.add("active");
        renderTableAndUrls();
      });
    }

    function syncChipsWithCategory() {
      const row = document.getElementById("quickCategoryRow");
      [...row.querySelectorAll(".chip")].forEach(c => {
        const cat = c.getAttribute("data-cat");
        c.classList.toggle("active", cat === currentCategory);
      });
    }

    function updateGlobalBadges() {
      const fileCountBadge = document.getElementById("fileCountBadge");
      const latestDateBadge = document.getElementById("latestDateBadge");

      fileCountBadge.textContent = `æ–‡ä»¶æ•°ï¼š${allItems.length}`;

      const dates = allItems
        .map(i => i.date)
        .filter(Boolean)
        .sort((a, b) => new Date(b) - new Date(a));

      if (dates.length > 0) {
        latestDateBadge.textContent = `æœ€è¿‘æ›´æ–°ï¼š${dates[0]}`;
      } else {
        latestDateBadge.textContent = "æœ€è¿‘æ›´æ–°ï¼š--";
      }
    }

    function renderTableAndUrls() {
      const tbody = document.getElementById("table-body");
      const urlBox = document.getElementById("urlBox");
      const statTotal = document.getElementById("statTotal");
      const statRange = document.getElementById("statRange");
      const copyCount = document.getElementById("copyCount");

      tbody.innerHTML = "";
      urlBox.value = "";

      let items = allItems.filter(item => {
        const matchCat = (currentCategory === "all" || item.category === currentCategory);
        const matchDate = (!currentDate || item.date === currentDate);
        return matchCat && matchDate;
      });

      const linesForCopy = [];

      items.forEach(item => {
        const tr = document.createElement("tr");

        const tagClass =
          item.category.startsWith("äººç‰©Â·") ? "tag-personal" :
          item.category === "AI/æŠ€æœ¯" ? "tag-ai" :
          item.category === "å†…å®¹/è‡ªåª’ä½“" ? "tag-media" :
          "";

        tr.innerHTML = `
          <td>${item.date || ""}</td>
          <td>
            <span class="tag ${tagClass}">
              <span class="tag-dot"></span>
              ${item.category}
            </span>
          </td>
          <td><a href="${item.name}" target="_blank">${item.name}</a></td>
          <td><a href="${item.fullUrl}" target="_blank">${item.fullUrl}</a></td>
        `;
        tbody.appendChild(tr);

        linesForCopy.push(item.fullUrl);
      });

      urlBox.value = linesForCopy.join("\n");
      statTotal.textContent = `å½“å‰ç­›é€‰ï¼š${items.length} æ¡`;
      copyCount.textContent = `${items.length} æ¡é“¾æ¥`;

      const dates = items
        .map(i => i.date)
        .filter(Boolean)
        .sort((a, b) => new Date(a) - new Date(b));

      if (dates.length > 0) {
        statRange.textContent = `æ—¶é—´èŒƒå›´ï¼š${dates[0]} ã€œ ${dates[dates.length - 1]}`;
      } else {
        statRange.textContent = "æ—¶é—´èŒƒå›´ï¼š--";
      }
    }

    function copyUrls() {
      const box = document.getElementById("urlBox");
      box.select();
      box.setSelectionRange(0, 99999);

      if (navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard.writeText(box.value).then(() => {
          alert("âœ… å·²å¤åˆ¶å½“å‰ç­›é€‰ç»“æœçš„å…¨éƒ¨ç½‘å€ï¼Œå¯ä»¥ç²˜è´´åˆ°å¤šç»´è¡¨æ ¼äº†ï¼");
        }).catch(() => {
          document.execCommand("copy");
          alert("âœ… å·²å¤åˆ¶å½“å‰ç­›é€‰ç»“æœçš„å…¨éƒ¨ç½‘å€ï¼Œå¯ä»¥ç²˜è´´åˆ°å¤šç»´è¡¨æ ¼äº†ï¼");
        });
      } else {
        document.execCommand("copy");
        alert("âœ… å·²å¤åˆ¶å½“å‰ç­›é€‰ç»“æœçš„å…¨éƒ¨ç½‘å€ï¼Œå¯ä»¥ç²˜è´´åˆ°å¤šç»´è¡¨æ ¼äº†ï¼");
      }
    }

    loadFiles();
  </script>
</body>
</html>
